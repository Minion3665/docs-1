<!DOCTYPE html><html lang="en" dir="ltr" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Lib | Snowfall</title><link rel="canonical"/><link rel="shortcut icon" href="/./src/assets/snowfall.jpg" type="image/jpeg"/><meta name="generator" content="Astro v4.0.3"/><meta name="generator" content="Starlight v0.15.0"/><meta property="og:title" content="Lib"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description" content="Reference for Snowfall Lib."/><meta property="og:site_name" content="Snowfall"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Lib"/><meta name="twitter:description" content="Reference for Snowfall Lib."/><meta name="description" content="Reference for Snowfall Lib."/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/_astro/index.eHUJR_qy.css" />
<style>.hero:where(.astro-zi4ldr3x){display:flex;justify-content:center;padding-top:2.5rem;padding-bottom:4.5rem}.hero:where(.astro-zi4ldr3x) h1:where(.astro-zi4ldr3x){font-weight:700!important;font-size:4rem!important}
svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}
</style><script type="module" src="/_astro/hoisted.dSDs6aBR.js"></script>
<script type="module" src="/_astro/page.36aCzv65.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header sl-flex astro-kmkmnagf"> <div class="sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <span class="astro-m46x6ez3"> Snowfall </span> </a>  </div> <div class="sl-flex astro-kmkmnagf"> <site-search data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}" class="astro-v37mnknz"> <button data-open-modal disabled class="astro-v37mnknz">  <svg aria-label="Search" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg>  <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <svg aria-label="(Press / to Search)" class="sl-hidden md:sl-block astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 2H7a5 5 0 0 0-5 5v10a5 5 0 0 0 5 5h10a5 5 0 0 0 5-5V7a5 5 0 0 0-5-5Zm3 15a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v10Z"/><path d="M15.293 6.707a1 1 0 1 1 1.414 1.414l-8.485 8.486a1 1 0 0 1-1.414-1.415l8.485-8.485Z"/></svg>  </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>    </div> <div class="sl-hidden md:sl-flex right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <a href="https://github.com/snowfallorg" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected="true" class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div> </div> </header> <nav class="sidebar astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button>    <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Lib</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/lib/quickstart/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Quickstart</span>  </a> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Guides</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/lib/packages/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Packages</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lib/overlays/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overlays</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lib/modules/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Modules</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lib/systems/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Systems</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lib/homes/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Homes</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lib/library/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Library</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lib/shells/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Shells</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lib/generic/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Generic</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <a href="/reference/lib/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Reference</span>  </a> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Migration</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/lib/migration/v2/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">v2</span>  </a> </li> </ul>  </details> </li> </ul>  </details> </li> </ul>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="sl-flex social-icons astro-wu23bvmt"> <a href="https://github.com/snowfallorg" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected="true" class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><div class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#usage" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Usage</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#mklib" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">mkLib</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#mkflake" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">mkFlake</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#lib" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">lib</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libmkflake" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.mkFlake</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallflake" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.flake</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallpath" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.path</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallfs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.fs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallmodule" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.module</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallattrs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.attrs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallsystem" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.system</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallhome" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.home</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallpackage" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.package</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallshell" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.shell</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfalloverlay" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.overlay</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfalltemplate" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.template</span> </a>  </li> </ul>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#usage" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Usage</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#mklib" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">mkLib</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#mkflake" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">mkFlake</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#lib" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">lib</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libmkflake" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.mkFlake</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallflake" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.flake</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallpath" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.path</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallfs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.fs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallmodule" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.module</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallattrs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.attrs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallsystem" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.system</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallhome" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.home</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallpackage" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.package</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfallshell" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.shell</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfalloverlay" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.overlay</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#libsnowfalltemplate" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">lib.snowfall.template</span> </a>  </li> </ul>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body lang="en" dir="ltr" class="astro-bguv2lll">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">Lib</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <h2 id="usage">Usage</h2>
<p><code dir="auto">snowfall-lib</code> provides two utilities directly on the flake itself.</p>
<h3 id="mklib"><code dir="auto">mkLib</code></h3>
<p>The library generator function. This is the entrypoint for <code dir="auto">snowfall-lib</code> and is how
you access all of its features. See the following Nix Flake example for how to create a
library instance with <code dir="auto">mkLib</code>.</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.0epgx.css"><script type="module" src="/_astro/ec.sgewm.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">description</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">My Flake</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nixos/nixpkgs/nixos-23.05</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">snowfall-lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:snowfallorg/lib</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">outputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">inputs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">let</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">snowfall-lib</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkLib</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># You must pass in both your flake's inputs and the root directory of</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># your flake.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./.</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># You can optionally place your Snowfall-related files in another</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># directory.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">snowfall</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">root</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./nix</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">in</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># We'll cover what to do here next.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    { };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  description = &#x22;My Flake&#x22;;  inputs = {    nixpkgs.url = &#x22;github:nixos/nixpkgs/nixos-23.05&#x22;;    snowfall-lib = {      url = &#x22;github:snowfallorg/lib&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };  };  outputs = inputs:    let      lib = inputs.snowfall-lib.mkLib {        # You must pass in both your flake&#x27;s inputs and the root directory of        # your flake.        inherit inputs;        src = ./.;        # You can optionally place your Snowfall-related files in another        # directory.        snowfall.root = ./nix;      };    in    # We&#x27;ll cover what to do here next.    { };}"><div></div></button></div></figure></div>
<p>For information on how to use <code dir="auto">lib</code>, see the <a href="#lib"><code dir="auto">lib</code></a> section. Or skip directly
to <a href="#libmkflake"><code dir="auto">lib.mkFlake</code></a> to see how to configure your flake’s outputs.</p>
<h3 id="mkflake"><code dir="auto">mkFlake</code></h3>
<p>A convenience wrapper for writing the following.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#C792EA;--1:#8844AE">let</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">snowfall-lib</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkLib</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./.</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># You can optionally place your Snowfall-related files in another</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># directory.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">snowfall</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">root</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./nix</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line"><span style="--0:#C792EA;--1:#8844AE">in</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">lib</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkFlake</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#FFFFFF;--1:#984E4D">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="let  lib = inputs.snowfall-lib.mkLib {    inherit inputs;    src = ./.;    # You can optionally place your Snowfall-related files in another    # directory.    snowfall.root = ./nix;  };in lib.mkFlake {}"><div></div></button></div></figure></div>
<p>Instead, with <code dir="auto">mkFlake</code> you can combine these calls into one like the following.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D7DBE0;--1:#403F53">inputs</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">snowfall-lib</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkFlake</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./.</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span><span style="--0:#FFFFFF;--1:#984E4D">;</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="inputs.snowfall-lib.mkFlake {  inherit inputs;  src = ./.;};"><div></div></button></div></figure></div>
<p>See <a href="#libmkflake"><code dir="auto">lib.mkFlake</code></a> for information on how to configure your flake’s outputs.</p>
<h2 id="lib"><code dir="auto">lib</code></h2>
<p>Snowfall Lib provides utilities for creating flake outputs as well as some
necessary helpers. In addition, <code dir="auto">lib</code> is an extension of <code dir="auto">nixpkgs.lib</code> and every
flake input that contains a <code dir="auto">lib</code> attribute. This means that you can use <code dir="auto">lib</code>
directly for all of your needs, whether they’re Snowfall-related, NixPkgs-related,
or for one of the other flake inputs.</p>
<p>The way that <code dir="auto">mkLib</code> merges libraries is by starting with the base <code dir="auto">nixpkgs.lib</code> and
then merge each flake input’s <code dir="auto">lib</code> attribute, namespaced by the name of the input.
For example, if you have the input <code dir="auto">flake-utils-plus</code> then you will be able to use
<code dir="auto">lib.flake-utils-plus</code> instead of having to keep a reference to the input’s lib at
<code dir="auto">inputs.flake-utils-plus.lib</code>.</p>
<p>If you have your own library in a <code dir="auto">lib/</code> directory at your flake’s root, definitions
in there will automatically be imported and merged as well.</p>
<p>When producing flake outputs with <code dir="auto">mkFlake</code> or another Snowfall <code dir="auto">lib</code> utility, <code dir="auto">lib</code> will
be passed in as an input. All of this together gives you easy access to a common
library of utilities and easy access to the libraries of flake inputs or your own
custom library.</p>
<h3 id="libmkflake"><code dir="auto">lib.mkFlake</code></h3>
<p>The <code dir="auto">lib.mkFlake</code> function creates full flake outputs. For most cases you will only
need to use this helper and the Snowfall <code dir="auto">lib</code> will take care of everything else.</p>
<h4 id="flake-structure">Flake Structure</h4>
<p>Snowfall Lib has opinions about how a flake’s files are laid out. This lets
<code dir="auto">lib</code> do all of the busy work for you and allows you to focus on creating. Here is
the structure that <code dir="auto">lib</code> expects to find at the root of your flake.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">snowfall-root/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│ The Snowfall root defaults to "src", but can be changed by setting "snowfall.root".</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│ This is useful if you want to add a flake to a project, but don't want to clutter the</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│ root of the repository with directories.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│ Your Nix flake.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">├─ flake.nix</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│ An optional custom library.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">├─ lib/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ A Nix function called with `inputs`, `snowfall-inputs`, and `lib`.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ The function should return an attribute set to merge with `lib`.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  ├─ default.nix</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ Any (nestable) directory name.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  └─ **/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ A Nix function called with `inputs`, `snowfall-inputs`, and `lib`.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ The function should return an attribute set to merge with `lib`.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     └─ default.nix</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│ An optional set of packages to export.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">├─ packages/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ Any (nestable) directory name. The name of the directory will be the</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ name of the package.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  └─ **/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ A Nix package to be instantiated with `callPackage`. This file</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ should contain a function that takes an attribute set of packages</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ and *required* `lib` and returns a derivation.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     └─ default.nix</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">├─ modules/ (optional modules)</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ A directory named after the `platform` type that will be used for modules within.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ Supported platforms are:</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ - nixos</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ - darwin</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ - home</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  └─ &#x3C;platform>/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ Any (nestable) directory name. The name of the directory will be the</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ name of the module.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     └─ **/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│        │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│        │ A NixOS module.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│        └─ default.nix</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">├─ overlays/ (optional overlays)</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ Any (nestable) directory name.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  └─ **/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ A custom overlay. This file should contain a function that takes three arguments:</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │   - An attribute set of your flake's inputs and a `channels` attribute containing</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │     all of your available channels (eg. nixpkgs, unstable).</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │   - The final set of `pkgs`.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │   - The previous set of `pkgs`.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ This function should return an attribute set to merge onto `pkgs`.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     └─ default.nix</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">├─ systems/ (optional system configurations)</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ A directory named after the `system` type that will be used for all machines within.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ The architecture is any supported architecture of NixPkgs, for example:</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - x86_64</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - aarch64</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - i686</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ The format is any supported NixPkgs format *or* a format provided by either nix-darwin</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ or nixos-generators. However, in order to build systems with nix-darwin or nixos-generators,</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ you must add `darwin` and `nixos-generators` inputs to your flake respectively. Here</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ are some example formats:</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - linux</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - darwin</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - iso</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - install-iso</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - do</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - vmware</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ With the architecture and format together (joined by a hyphen), you get the name of the</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ directory for the system type.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  └─ &#x3C;architecture>-&#x3C;format>/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ A directory that contains a single system's configuration. The directory name</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ will be the name of the system.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     └─ &#x3C;system-name>/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│        │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│        │ A NixOS module for your system's configuration.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│        └─ default.nix</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">├─ homes/ (optional homes configurations)</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ A directory named after the `home` type that will be used for all homes within.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ The architecture is any supported architecture of NixPkgs, for example:</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - x86_64</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - aarch64</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - i686</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ The format is any supported NixPkgs format *or* a format provided by either nix-darwin</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ or nixos-generators. However, in order to build systems with nix-darwin or nixos-generators,</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ you must add `darwin` and `nixos-generators` inputs to your flake respectively. Here</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ are some example formats:</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - linux</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - darwin</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - iso</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - install-iso</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - do</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │  - vmware</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ With the architecture and format together (joined by a hyphen), you get the name of the</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  │ directory for the home type.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│  └─ &#x3C;architecture>-&#x3C;format>/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ A directory that contains a single home's configuration. The directory name</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     │ will be the name of the home.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│     └─ &#x3C;home-name>/</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│        │</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│        │ A NixOS module for your home's configuration.</span></div><div class="ec-line"><span style="--0:#d6deeb;--1:#403f53">│        └─ default.nix</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="snowfall-root/│ The Snowfall root defaults to &#x22;src&#x22;, but can be changed by setting &#x22;snowfall.root&#x22;.│ This is useful if you want to add a flake to a project, but don&#x27;t want to clutter the│ root of the repository with directories.││ Your Nix flake.├─ flake.nix││ An optional custom library.├─ lib/│  ││  │ A Nix function called with &#x60;inputs&#x60;, &#x60;snowfall-inputs&#x60;, and &#x60;lib&#x60;.│  │ The function should return an attribute set to merge with &#x60;lib&#x60;.│  ├─ default.nix│  ││  │ Any (nestable) directory name.│  └─ **/│     ││     │ A Nix function called with &#x60;inputs&#x60;, &#x60;snowfall-inputs&#x60;, and &#x60;lib&#x60;.│     │ The function should return an attribute set to merge with &#x60;lib&#x60;.│     └─ default.nix││ An optional set of packages to export.├─ packages/│  ││  │ Any (nestable) directory name. The name of the directory will be the│  │ name of the package.│  └─ **/│     ││     │ A Nix package to be instantiated with &#x60;callPackage&#x60;. This file│     │ should contain a function that takes an attribute set of packages│     │ and *required* &#x60;lib&#x60; and returns a derivation.│     └─ default.nix││├─ modules/ (optional modules)│  ││  │ A directory named after the &#x60;platform&#x60; type that will be used for modules within.│  ││  │ Supported platforms are:│  │ - nixos│  │ - darwin│  │ - home│  └─ <platform>/│     ││     │ Any (nestable) directory name. The name of the directory will be the│     │ name of the module.│     └─ **/│        ││        │ A NixOS module.│        └─ default.nix│├─ overlays/ (optional overlays)│  ││  │ Any (nestable) directory name.│  └─ **/│     ││     │ A custom overlay. This file should contain a function that takes three arguments:│     │   - An attribute set of your flake&#x27;s inputs and a &#x60;channels&#x60; attribute containing│     │     all of your available channels (eg. nixpkgs, unstable).│     │   - The final set of &#x60;pkgs&#x60;.│     │   - The previous set of &#x60;pkgs&#x60;.│     ││     │ This function should return an attribute set to merge onto &#x60;pkgs&#x60;.│     └─ default.nix│├─ systems/ (optional system configurations)│  ││  │ A directory named after the &#x60;system&#x60; type that will be used for all machines within.│  ││  │ The architecture is any supported architecture of NixPkgs, for example:│  │  - x86_64│  │  - aarch64│  │  - i686│  ││  │ The format is any supported NixPkgs format *or* a format provided by either nix-darwin│  │ or nixos-generators. However, in order to build systems with nix-darwin or nixos-generators,│  │ you must add &#x60;darwin&#x60; and &#x60;nixos-generators&#x60; inputs to your flake respectively. Here│  │ are some example formats:│  │  - linux│  │  - darwin│  │  - iso│  │  - install-iso│  │  - do│  │  - vmware│  ││  │ With the architecture and format together (joined by a hyphen), you get the name of the│  │ directory for the system type.│  └─ <architecture>-<format>/│     ││     │ A directory that contains a single system&#x27;s configuration. The directory name│     │ will be the name of the system.│     └─ <system-name>/│        ││        │ A NixOS module for your system&#x27;s configuration.│        └─ default.nix│├─ homes/ (optional homes configurations)│  ││  │ A directory named after the &#x60;home&#x60; type that will be used for all homes within.│  ││  │ The architecture is any supported architecture of NixPkgs, for example:│  │  - x86_64│  │  - aarch64│  │  - i686│  ││  │ The format is any supported NixPkgs format *or* a format provided by either nix-darwin│  │ or nixos-generators. However, in order to build systems with nix-darwin or nixos-generators,│  │ you must add &#x60;darwin&#x60; and &#x60;nixos-generators&#x60; inputs to your flake respectively. Here│  │ are some example formats:│  │  - linux│  │  - darwin│  │  - iso│  │  - install-iso│  │  - do│  │  - vmware│  ││  │ With the architecture and format together (joined by a hyphen), you get the name of the│  │ directory for the home type.│  └─ <architecture>-<format>/│     ││     │ A directory that contains a single home&#x27;s configuration. The directory name│     │ will be the name of the home.│     └─ <home-name>/│        ││        │ A NixOS module for your home&#x27;s configuration.│        └─ default.nix"><div></div></button></div></figure></div>
<h4 id="default-flake">Default Flake</h4>
<p>Without any extra input, <code dir="auto">lib.mkFlake</code> will generate outputs for all systems, modules,
packages, overlays, and shells specified by the <a href="#flake-structure">Flake Structure</a> section.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">description</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">My Flake</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nixos/nixpkgs/nixos-23.05</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">snowfall-lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:snowfallorg/lib</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">outputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">inputs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># This is an example and in your actual flake you can use `snowfall-lib.mkFlake`</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># directly unless you explicitly need a feature of `lib`.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">let</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">snowfall-lib</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkLib</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># You must pass in both your flake's inputs and the root directory of</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># your flake.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./.</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">in</span></div><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D6DEEB">      </span><span style="--0:#D7DBE0">lib</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkFlake</span><span style="--0:#D6DEEB"> { };</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  description = &#x22;My Flake&#x22;;  inputs = {    nixpkgs.url = &#x22;github:nixos/nixpkgs/nixos-23.05&#x22;;    snowfall-lib = {      url = &#x22;github:snowfallorg/lib&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };  };  outputs = inputs:    # This is an example and in your actual flake you can use &#x60;snowfall-lib.mkFlake&#x60;    # directly unless you explicitly need a feature of &#x60;lib&#x60;.    let      lib = inputs.snowfall-lib.mkLib {        # You must pass in both your flake&#x27;s inputs and the root directory of        # your flake.        inherit inputs;        src = ./.;      };    in      lib.mkFlake { };}"><div></div></button></div></figure></div>
<h4 id="snowfall-configuration">Snowfall Configuration</h4>
<p>Snowfall Lib supports configuring some functionality and interopability with other tools via
the <code dir="auto">snowfall</code> attribute passed to <code dir="auto">mkLib</code>.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">description</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">My Flake</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nixos/nixpkgs/nixos-23.05</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">snowfall-lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:snowfallorg/lib</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">outputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">inputs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># This is an example and in your actual flake you can use `snowfall-lib.mkFlake`</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># directly unless you explicitly need a feature of `lib`.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">let</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">snowfall-lib</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkLib</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># You must pass in both your flake's inputs and the root directory of</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># your flake.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./.</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">snowfall</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">namespace</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-namespace</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#C5E478;--1:#3B61B0">meta</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">            </span><span style="--0:#919F9F;--1:#5F636F"># Your flake's preferred name in the flake registry.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">            </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-flake</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">            </span><span style="--0:#919F9F;--1:#5F636F"># A pretty name for your flake.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">            </span><span style="--0:#C5E478;--1:#3B61B0">title</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">My Flake</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">in</span></div><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D6DEEB">      </span><span style="--0:#D7DBE0">lib</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkFlake</span><span style="--0:#D6DEEB"> { };</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  description = &#x22;My Flake&#x22;;  inputs = {    nixpkgs.url = &#x22;github:nixos/nixpkgs/nixos-23.05&#x22;;    snowfall-lib = {      url = &#x22;github:snowfallorg/lib&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };  };  outputs = inputs:    # This is an example and in your actual flake you can use &#x60;snowfall-lib.mkFlake&#x60;    # directly unless you explicitly need a feature of &#x60;lib&#x60;.    let      lib = inputs.snowfall-lib.mkLib {        # You must pass in both your flake&#x27;s inputs and the root directory of        # your flake.        inherit inputs;        src = ./.;        snowfall = {        namespace = &#x22;my-namespace&#x22;;          meta = {            # Your flake&#x27;s preferred name in the flake registry.            name = &#x22;my-flake&#x22;;            # A pretty name for your flake.            title = &#x22;My Flake&#x22;;          };        };      };    in      lib.mkFlake { };}"><div></div></button></div></figure></div>
<h4 id="external-overlays-and-modules">External Overlays And Modules</h4>
<p>You can apply overlays and modules from your flake’s inputs with the following options.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">description</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">My Flake</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nixos/nixpkgs/nixos-23.05</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">snowfall-lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:snowfallorg/lib</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">home-manager</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nix-community/home-manager</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">outputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">inputs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># This is an example and in your actual flake you can use `snowfall-lib.mkFlake`</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># directly unless you explicitly need a feature of `lib`.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">let</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">snowfall-lib</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkLib</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># You must pass in both your flake's inputs and the root directory of</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># your flake.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./.</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">in</span></div><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D6DEEB">      </span><span style="--0:#D7DBE0">lib</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkFlake</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># Add overlays for the `nixpkgs` channel.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">overlays</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">with</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span><span style="--0:#D6DEEB">; </span></span><span style="--0:#D9F5DD;--1:#111111">[</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#919F9F;--1:#5F636F"># my-inputs.overlays.my-overlay</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># Add modules to all NixOS systems.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">systems</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">modules</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixos</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">with</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span><span style="--0:#D6DEEB">; </span></span><span style="--0:#D9F5DD;--1:#111111">[</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#919F9F;--1:#5F636F"># my-input.nixosModules.my-module</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># Add modules to all Darwin systems.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">systems</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">modules</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">darwin</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">with</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span><span style="--0:#D6DEEB">; </span></span><span style="--0:#D9F5DD;--1:#111111">[</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#919F9F;--1:#5F636F"># my-input.darwinModules.my-module</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># Add modules to a specific system.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">systems</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">hosts</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">my-host</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">with</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span><span style="--0:#D6DEEB">; </span></span><span style="--0:#D9F5DD;--1:#111111">[</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#919F9F;--1:#5F636F"># my-input.nixosModules.my-module</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># Add modules to all homes.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">homes</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">modules</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">with</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span><span style="--0:#D6DEEB">; </span></span><span style="--0:#D9F5DD;--1:#111111">[</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#919F9F;--1:#5F636F"># my-input.homeModules.my-module</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># Add modules to a specific home.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">homes</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-user@my-host</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">modules</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">with</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span><span style="--0:#D6DEEB">; </span></span><span style="--0:#D9F5DD;--1:#111111">[</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#919F9F;--1:#5F636F"># my-input.homeModules.my-module</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  description = &#x22;My Flake&#x22;;  inputs = {    nixpkgs.url = &#x22;github:nixos/nixpkgs/nixos-23.05&#x22;;    snowfall-lib = {      url = &#x22;github:snowfallorg/lib&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };    home-manager = {      url = &#x22;github:nix-community/home-manager&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };  };  outputs = inputs:    # This is an example and in your actual flake you can use &#x60;snowfall-lib.mkFlake&#x60;    # directly unless you explicitly need a feature of &#x60;lib&#x60;.    let      lib = inputs.snowfall-lib.mkLib {        # You must pass in both your flake&#x27;s inputs and the root directory of        # your flake.        inherit inputs;        src = ./.;      };    in      lib.mkFlake {        # Add overlays for the &#x60;nixpkgs&#x60; channel.        overlays = with inputs; [          # my-inputs.overlays.my-overlay        ];        # Add modules to all NixOS systems.        systems.modules.nixos = with inputs; [          # my-input.nixosModules.my-module        ];        # Add modules to all Darwin systems.        systems.modules.darwin = with inputs; [          # my-input.darwinModules.my-module        ];        # Add modules to a specific system.        systems.hosts.my-host = with inputs; [          # my-input.nixosModules.my-module        ];        # Add modules to all homes.        homes.modules = with inputs; [          # my-input.homeModules.my-module        ];        # Add modules to a specific home.        homes.users.&#x22;my-user@my-host&#x22;.modules = with inputs; [          # my-input.homeModules.my-module        ];      };}"><div></div></button></div></figure></div>
<h4 id="internal-packages-and-outputs">Internal Packages And Outputs</h4>
<p>Packages created from your <code dir="auto">packages/</code> directory are automatically made available via an
overlay for your <code dir="auto">nixpkgs</code> channel. System configurations can access these packages directly
on <code dir="auto">pkgs</code> and consumers of your flake can use the generated <code dir="auto">&#x3C;your-flake>.overlays</code> attributes.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">description</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">My Flake</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nixos/nixpkgs/nixos-23.05</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">snowfall-lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:snowfallorg/lib</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">comma</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nix-community/comma</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">unstable</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">outputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">inputs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># This is an example and in your actual flake you can use `snowfall-lib.mkFlake`</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># directly unless you explicitly need a feature of `lib`.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">let</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">snowfall-lib</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkLib</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># You must pass in both your flake's inputs and the root directory of</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># your flake.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./.</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">in</span></div><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D6DEEB">      </span><span style="--0:#D7DBE0">lib</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkFlake</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># Optionally place all packages under a namespace when used in an overlay.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># Instead of accessing packages with `pkgs.&#x3C;name>`, your internal packages</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># will be available at `pkgs.&#x3C;namespace>.&#x3C;name>`.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">package-namespace</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-namespace</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># You can also pass through external packages or dynamically create new ones</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># in addition to the ones that `lib` will create from your `packages/` directory.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">outputs-builder</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">channels</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#C5E478;--1:#3B61B0">packages</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">            </span><span style="--0:#C5E478;--1:#3B61B0">comma</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">comma</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">packages</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#E2817F;--1:#B23834">${</span><span style="--0:#D7DBE0;--1:#403F53">channels</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">nixpkgs</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">system</span><span style="--0:#E2817F;--1:#B23834">}</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">comma</span><span style="--0:#D6DEEB">;</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  description = &#x22;My Flake&#x22;;  inputs = {    nixpkgs.url = &#x22;github:nixos/nixpkgs/nixos-23.05&#x22;;    snowfall-lib = {      url = &#x22;github:snowfallorg/lib&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };    comma = {      url = &#x22;github:nix-community/comma&#x22;;      inputs.nixpkgs.follows = &#x22;unstable&#x22;;    };  };  outputs = inputs:    # This is an example and in your actual flake you can use &#x60;snowfall-lib.mkFlake&#x60;    # directly unless you explicitly need a feature of &#x60;lib&#x60;.    let      lib = inputs.snowfall-lib.mkLib {        # You must pass in both your flake&#x27;s inputs and the root directory of        # your flake.        inherit inputs;        src = ./.;      };    in      lib.mkFlake {        # Optionally place all packages under a namespace when used in an overlay.        # Instead of accessing packages with &#x60;pkgs.<name>&#x60;, your internal packages        # will be available at &#x60;pkgs.<namespace>.<name>&#x60;.        package-namespace = &#x22;my-namespace&#x22;;        # You can also pass through external packages or dynamically create new ones        # in addition to the ones that &#x60;lib&#x60; will create from your &#x60;packages/&#x60; directory.        outputs-builder = channels: {          packages = {            comma = inputs.comma.packages.${channels.nixpkgs.system}.comma;          };        };      };}"><div></div></button></div></figure></div>
<h4 id="default-packages-and-shells">Default Packages And Shells</h4>
<p>Snowfall Lib will create packages and shells based on your <code dir="auto">packages/</code> and <code dir="auto">shells</code>
directories. However, it is common to additionally map one of those packages or shells
to be their respective default. This can be achieved by setting an <code dir="auto">alias</code> and
mapping the <code dir="auto">default</code> package or shell to the name of the one you want.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">description</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">My Flake</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nixos/nixpkgs/nixos-23.05</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">snowfall-lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:snowfallorg/lib</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">outputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">inputs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># This is an example and in your actual flake you can use `snowfall-lib.mkFlake`</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># directly unless you explicitly need a feature of `lib`.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">let</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">snowfall-lib</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkLib</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># You must pass in both your flake's inputs and the root directory of</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># your flake.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./.</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">in</span></div><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D6DEEB">      </span><span style="--0:#D7DBE0">lib</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkFlake</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">alias</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#C5E478;--1:#3B61B0">packages</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">            </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-package</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#C5E478;--1:#3B61B0">shells</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">            </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-shell</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#C5E478;--1:#3B61B0">modules</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">            </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-module</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          </span><span style="--0:#C5E478;--1:#3B61B0">templates</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">            </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-template</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">          };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  description = &#x22;My Flake&#x22;;  inputs = {    nixpkgs.url = &#x22;github:nixos/nixpkgs/nixos-23.05&#x22;;    snowfall-lib = {      url = &#x22;github:snowfallorg/lib&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };  };  outputs = inputs:    # This is an example and in your actual flake you can use &#x60;snowfall-lib.mkFlake&#x60;    # directly unless you explicitly need a feature of &#x60;lib&#x60;.    let      lib = inputs.snowfall-lib.mkLib {        # You must pass in both your flake&#x27;s inputs and the root directory of        # your flake.        inherit inputs;        src = ./.;      };    in      lib.mkFlake {        alias = {          packages = {            default = &#x22;my-package&#x22;;          };          shells = {            default = &#x22;my-shell&#x22;;          };          modules = {            default = &#x22;my-module&#x22;;          };          templates = {            default = &#x22;my-template&#x22;;          };        };      };}"><div></div></button></div></figure></div>
<h4 id="darwin-and-nixos-generators">Darwin And NixOS Generators</h4>
<p>Snowfall Lib has support for configuring macOS systems and building any output
supported by NixOS Generators. In order to use these features, your flake must
include <code dir="auto">darwin</code> and/or <code dir="auto">nixos-generators</code> as inputs.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">description</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">My Flake</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nixos/nixpkgs/nixos-23.05</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">snowfall-lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:snowfallorg/lib</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># In order to configure macOS systems.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">darwin</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:lnl7/nix-darwin</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># In order to build system images and artifacts supported by nixos-generators.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">nixos-generators</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nix-community/nixos-generators</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">outputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">inputs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># This is an example and in your actual flake you can use `snowfall-lib.mkFlake`</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># directly unless you explicitly need a feature of `lib`.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">let</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">snowfall-lib</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkLib</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># You must pass in both your flake's inputs and the root directory of</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># your flake.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./.</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">in</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#919F9F;--1:#5F636F"># No additional configuration is required to use this feature, you only</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#919F9F;--1:#5F636F"># have to add darwin or nixos-generators to your flake inputs.</span></div><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D6DEEB">      </span><span style="--0:#D7DBE0">lib</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkFlake</span><span style="--0:#D6DEEB"> { };</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  description = &#x22;My Flake&#x22;;  inputs = {    nixpkgs.url = &#x22;github:nixos/nixpkgs/nixos-23.05&#x22;;    snowfall-lib = {      url = &#x22;github:snowfallorg/lib&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };    # In order to configure macOS systems.    darwin = {      url = &#x22;github:lnl7/nix-darwin&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };    # In order to build system images and artifacts supported by nixos-generators.    nixos-generators = {      url = &#x22;github:nix-community/nixos-generators&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };  };  outputs = inputs:    # This is an example and in your actual flake you can use &#x60;snowfall-lib.mkFlake&#x60;    # directly unless you explicitly need a feature of &#x60;lib&#x60;.    let      lib = inputs.snowfall-lib.mkLib {        # You must pass in both your flake&#x27;s inputs and the root directory of        # your flake.        inherit inputs;        src = ./.;      };    in      # No additional configuration is required to use this feature, you only      # have to add darwin or nixos-generators to your flake inputs.      lib.mkFlake { };}"><div></div></button></div></figure></div>
<p>Any macOS systems will be available on your flake at <code dir="auto">darwinConfigurations</code> for use
with <code dir="auto">darwin-rebuild</code>. Any system type supported by NixOS Generators will be available
on your flake at <code dir="auto">&#x3C;format>Configurations</code> where <code dir="auto">&#x3C;format></code> is the name of the generator
type. See the following table for a list of supported formats from NixOS Generators.</p>





















































































































<table><thead><tr><th>format</th><th>description</th></tr></thead><tbody><tr><td>amazon</td><td>Amazon EC2 image</td></tr><tr><td>azure</td><td>Microsoft azure image (Generation 1 / VHD)</td></tr><tr><td>cloudstack</td><td>qcow2 image for cloudstack</td></tr><tr><td>do</td><td>Digital Ocean image</td></tr><tr><td>gce</td><td>Google Compute image</td></tr><tr><td>hyperv</td><td>Hyper-V Image (Generation 2 / VHDX)</td></tr><tr><td>install-iso</td><td>Installer ISO</td></tr><tr><td>install-iso-hyperv</td><td>Installer ISO with enabled hyper-v support</td></tr><tr><td>iso</td><td>ISO</td></tr><tr><td>kexec</td><td>kexec tarball (extract to / and run /kexec_nixos)</td></tr><tr><td>kexec-bundle</td><td>Same as before, but it’s just an executable</td></tr><tr><td>kubevirt</td><td>KubeVirt image</td></tr><tr><td>lxc</td><td>Create a tarball which is importable as an lxc container, use together with lxc-metadata</td></tr><tr><td>lxc-metadata</td><td>The necessary metadata for the lxc image to start</td></tr><tr><td>openstack</td><td>qcow2 image for openstack</td></tr><tr><td>proxmox</td><td><a href="https://pve.proxmox.com/wiki/VMA">VMA</a> file for proxmox</td></tr><tr><td>qcow</td><td>qcow2 image</td></tr><tr><td>raw</td><td>Raw image with bios/mbr</td></tr><tr><td>raw-efi</td><td>Raw image with efi support</td></tr><tr><td>sd-aarch64</td><td>Like sd-aarch64-installer, but does not use default installer image config.</td></tr><tr><td>sd-aarch64-installer</td><td>create an installer sd card for aarch64</td></tr><tr><td>vagrant-virtualbox</td><td>VirtualBox image for <a href="https://www.vagrantup.com/">Vagrant</a></td></tr><tr><td>virtualbox</td><td>virtualbox VM</td></tr><tr><td>vm</td><td>Only used as a qemu-kvm runner</td></tr><tr><td>vm-bootloader</td><td>Same as vm, but uses a real bootloader instead of netbooting</td></tr><tr><td>vm-nogui</td><td>Same as vm, but without a GUI</td></tr><tr><td>vmware</td><td>VMWare image (VMDK)</td></tr></tbody></table>
<h4 id="home-manager">Home Manager</h4>
<p>Snowfall Lib supports configuring <a href="https://github.com/nix-community/home-manager">Home Manager</a>
for both standalone use and for use as a module with NixOS or nix-darwin. To use this feature,
your flake must include <code dir="auto">home-manager</code> as an input.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">description</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">My Flake</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nixos/nixpkgs/nixos-23.05</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">snowfall-lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:snowfallorg/lib</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># In order to use Home Manager.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">home-manager</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">url</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">github:nix-community/home-manager</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixpkgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">follows</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">nixpkgs</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">outputs</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">inputs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># This is an example and in your actual flake you can use `snowfall-lib.mkFlake`</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#919F9F;--1:#5F636F"># directly unless you explicitly need a feature of `lib`.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">let</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#C5E478;--1:#3B61B0">lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">inputs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#D7DBE0;--1:#403F53">snowfall-lib</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkLib</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># You must pass in both your flake's inputs and the root directory of</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#919F9F;--1:#5F636F"># your flake.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">inputs</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./.</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">in</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#919F9F;--1:#5F636F"># No additional configuration is required to use this feature, you only</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">      </span><span style="--0:#919F9F;--1:#5F636F"># have to add home-manager to your flake inputs.</span></div><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D6DEEB">      </span><span style="--0:#D7DBE0">lib</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">mkFlake</span><span style="--0:#D6DEEB"> { };</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  description = &#x22;My Flake&#x22;;  inputs = {    nixpkgs.url = &#x22;github:nixos/nixpkgs/nixos-23.05&#x22;;    snowfall-lib = {      url = &#x22;github:snowfallorg/lib&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };    # In order to use Home Manager.    home-manager = {      url = &#x22;github:nix-community/home-manager&#x22;;      inputs.nixpkgs.follows = &#x22;nixpkgs&#x22;;    };  };  outputs = inputs:    # This is an example and in your actual flake you can use &#x60;snowfall-lib.mkFlake&#x60;    # directly unless you explicitly need a feature of &#x60;lib&#x60;.    let      lib = inputs.snowfall-lib.mkLib {        # You must pass in both your flake&#x27;s inputs and the root directory of        # your flake.        inherit inputs;        src = ./.;      };    in      # No additional configuration is required to use this feature, you only      # have to add home-manager to your flake inputs.      lib.mkFlake { };}"><div></div></button></div></figure></div>
<h3 id="libsnowfallflake"><code dir="auto">lib.snowfall.flake</code></h3>
<p>Helpers related to Nix flakes.</p>
<h4 id="libsnowfallflakewithout-self"><code dir="auto">lib.snowfall.flake.without-self</code></h4>
<p>Remove the <code dir="auto">self</code> attribute from an attribute set.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">without-self</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">self</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {}; </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">true</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="without-self { self = {}; x = true; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">true</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ x = true; }"><div></div></button></div></figure></div>
<h4 id="libsnowfallflakewithout-src"><code dir="auto">lib.snowfall.flake.without-src</code></h4>
<p>Remove the <code dir="auto">src</code> attribute from an attribute set.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">without-src</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {}; </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">true</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="without-src { src = {}; x = true; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">true</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ x = true; }"><div></div></button></div></figure></div>
<h4 id="libsnowfallflakewithout-snowfall-inputs"><code dir="auto">lib.snowfall.flake.without-snowfall-inputs</code></h4>
<p>Remove the <code dir="auto">src</code> and <code dir="auto">self</code> attributes from an attribute set.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">without-snowfall-inputs</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">self</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {}; </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {}; </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">true</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="without-snowfall-inputs { self = {}; src = {}; x = true; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">true</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ x = true; }"><div></div></button></div></figure></div>
<h4 id="libsnowfallflakeget-libs"><code dir="auto">lib.snowfall.flake.get-libs</code></h4>
<p>Transform an attribute set of inputs into an attribute set where
the values are the inputs’ <code dir="auto">lib</code> attribute. Entries without a <code dir="auto">lib</code>
attribute are removed.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-lib</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">nixpkgs</span><span style="--0:#D6DEEB">; </span></span><span style="--0:#C5E478;--1:#3B61B0">y</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {}; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-lib { x = nixpkgs; y = {}; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">nixpkgs</span></span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--1:#403F53"><span style="--0:#D7DBE0">lib</span><span style="--0:#D6DEEB">; }</span></span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ x = nixpkgs.lib; }"><div></div></button></div></figure></div>
<h3 id="libsnowfallpath"><code dir="auto">lib.snowfall.path</code></h3>
<h4 id="libsnowfallpathsplit-file-extension"><code dir="auto">lib.snowfall.path.split-file-extension</code></h4>
<p>Split a file name and its extension.</p>
<p>Type: <code dir="auto">String -> [String]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">split-file-extension</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-file.md</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="split-file-extension &#x22;my-file.md&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-file</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">md</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;my-file&#x22; &#x22;md&#x22; ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallpathhas-any-file-extension"><code dir="auto">lib.snowfall.path.has-any-file-extension</code></h4>
<p>Check if a file name has a file extension.</p>
<p>Type: <code dir="auto">String -> Bool</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">has-any-file-extension</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-file.txt</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="has-any-file-extension &#x22;my-file.txt&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#82AAFF;--1:#3B61B0">true</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="true"><div></div></button></div></figure></div>
<h4 id="libsnowfallpathget-file-extension"><code dir="auto">lib.snowfall.path.get-file-extension</code></h4>
<p>Get the file extension of a file name.</p>
<p>Type: <code dir="auto">String -> String</code>
Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-file-extension</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-file.final.txt</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-file-extension &#x22;my-file.final.txt&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">txt</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;txt&#x22;"><div></div></button></div></figure></div>
<h4 id="libsnowfallpathhas-file-extension"><code dir="auto">lib.snowfall.path.has-file-extension</code></h4>
<p>Check if a file name has a specific file extension.</p>
<p>Type: <code dir="auto">String -> String -> Bool</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">has-file-extension</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">txt</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-file.txt</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="has-file-extension &#x22;txt&#x22; &#x22;my-file.txt&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#82AAFF;--1:#3B61B0">true</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="true"><div></div></button></div></figure></div>
<h4 id="libsnowfallpathget-parent-directory"><code dir="auto">lib.snowfall.path.get-parent-directory</code></h4>
<p>Get the parent directory for a given path.</p>
<p>Type: <code dir="auto">Path -> Path</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-parent-directory</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/a/b/c</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-parent-directory &#x22;/a/b/c&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/a/b</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;/a/b&#x22;"><div></div></button></div></figure></div>
<h4 id="libsnowfallpathget-file-name-without-extension"><code dir="auto">lib.snowfall.path.get-file-name-without-extension</code></h4>
<p>Get the file name of a path without its extension.</p>
<p>Type: <code dir="auto">Path -> String</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-file-name-without-extension</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#ECC48D;--1:#3B61B0">./some-directory/my-file.pdf</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-file-name-without-extension ./some-directory/my-file.pdf"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-file</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;my-file&#x22;"><div></div></button></div></figure></div>
<h3 id="libsnowfallfs"><code dir="auto">lib.snowfall.fs</code></h3>
<p>File system utilities.</p>
<h4 id="libsnowfallfsis-file-kind"><code dir="auto">lib.snowfall.fs.is-file-kind</code></h4>
<h4 id="libsnowfallfsis-symlink-kind"><code dir="auto">lib.snowfall.fs.is-symlink-kind</code></h4>
<h4 id="libsnowfallfsis-directory-kind"><code dir="auto">lib.snowfall.fs.is-directory-kind</code></h4>
<h4 id="libsnowfallfsis-unknown-kind"><code dir="auto">lib.snowfall.fs.is-unknown-kind</code></h4>
<p>Matchers for file kinds. These are often used with <code dir="auto">readDir</code>.</p>
<p>Type: <code dir="auto">String -> Bool</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">is-file-kind</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">directory</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="is-file-kind &#x22;directory&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#82AAFF;--1:#3B61B0">false</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="false"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-file"><code dir="auto">lib.snowfall.fs.get-file</code></h4>
<p>Get a file path relative to the user’s flake.</p>
<p>Type: <code dir="auto">Path -> Path</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-file</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">systems</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-file &#x22;systems&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/user-source/systems</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;/user-source/systems&#x22;"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-snowfall-file"><code dir="auto">lib.snowfall.fs.get-snowfall-file</code></h4>
<p>Get a file path relative to the user’s snowfall directory.</p>
<p>Type: <code dir="auto">Path -> Path</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-snowfall-file</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">systems</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-snowfall-file &#x22;systems&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/user-source/snowfall-dir/systems</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;/user-source/snowfall-dir/systems&#x22;"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsinternal-get-file"><code dir="auto">lib.snowfall.fs.internal-get-file</code></h4>
<p>Get a file relative to the Snowfall Lib flake. You probably shouldn’t use this!</p>
<p>Type: <code dir="auto">Path -> Path</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-file</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">systems</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-file &#x22;systems&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/snowfall-lib-source/systems</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;/snowfall-lib-source/systems&#x22;"><div></div></button></div></figure></div>
<h4 id="libsnowfallfssafe-read-directory"><code dir="auto">lib.snowfall.fs.safe-read-directory</code></h4>
<p>Safely read from a directory if it exists.</p>
<p>Type: <code dir="auto">Path -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">safe-read-directory</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#ECC48D;--1:#3B61B0">./some/path</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="safe-read-directory ./some/path"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-file.txt</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">regular</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ &#x22;my-file.txt&#x22; = &#x22;regular&#x22;; }"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-directories"><code dir="auto">lib.snowfall.fs.get-directories</code></h4>
<p>Get directories at a given path.</p>
<p>Type: <code dir="auto">Path -> [Path]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-directories</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#ECC48D;--1:#3B61B0">./something</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-directories ./something"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something/a-directory</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;./something/a-directory&#x22; ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-files"><code dir="auto">lib.snowfall.fs.get-files</code></h4>
<p>Get files at a given path.</p>
<p>Type: <code dir="auto">Path -> [Path]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-files</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#ECC48D;--1:#3B61B0">./something</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-files ./something"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something/a-file</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;./something/a-file&#x22; ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-files-recursive"><code dir="auto">lib.snowfall.fs.get-files-recursive</code></h4>
<p>Get files at a given path, traversing any directories within.</p>
<p>Type: <code dir="auto">Path -> [Path]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-files-recursive</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#ECC48D;--1:#3B61B0">./something</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-files-recursive ./something"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something/some-directory/a-file</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;./something/some-directory/a-file&#x22; ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-nix-files"><code dir="auto">lib.snowfall.fs.get-nix-files</code></h4>
<p>Get nix files at a given path.</p>
<p>Type: <code dir="auto">Path -> [Path]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-nix-files</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-nix-files &#x22;./something&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something/a.nix</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;./something/a.nix&#x22; ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-nix-files-recursive"><code dir="auto">lib.snowfall.fs.get-nix-files-recursive</code></h4>
<p>Get nix files at a given path, traversing any directories within.</p>
<p>Type: <code dir="auto">Path -> [Path]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-nix-files</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-nix-files &#x22;./something&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something/a.nix</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;./something/a.nix&#x22; ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-default-nix-files"><code dir="auto">lib.snowfall.fs.get-default-nix-files</code></h4>
<p>Get nix files at a given path named “default.nix”.</p>
<p>Type: <code dir="auto">Path -> [Path]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-default-nix-files</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-default-nix-files &#x22;./something&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something/default.nix</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;./something/default.nix&#x22; ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-default-nix-files-recursive"><code dir="auto">lib.snowfall.fs.get-default-nix-files-recursive</code></h4>
<p>Get nix files at a given path named “default.nix”, traversing any directories within.</p>
<p>Type: <code dir="auto">Path -> [Path]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-default-nix-files-recursive</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-default-nix-files-recursive &#x22;./something&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something/some-directory/default.nix</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;./something/some-directory/default.nix&#x22; ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-non-default-nix-files"><code dir="auto">lib.snowfall.fs.get-non-default-nix-files</code></h4>
<p>Get nix files at a given path not named “default.nix”.</p>
<p>Type: <code dir="auto">Path -> [Path]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-non-default-nix-files</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-non-default-nix-files &#x22;./something&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something/a.nix</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;./something/a.nix&#x22; ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallfsget-non-default-nix-files-recursive"><code dir="auto">lib.snowfall.fs.get-non-default-nix-files-recursive</code></h4>
<p>Get nix files at a given path not named “default.nix”, traversing any directories within.</p>
<p>Type: <code dir="auto">Path -> [Path]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-non-default-nix-files-recursive</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-non-default-nix-files-recursive &#x22;./something&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">./something/some-directory/a.nix</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;./something/some-directory/a.nix&#x22; ]"><div></div></button></div></figure></div>
<h3 id="libsnowfallmodule"><code dir="auto">lib.snowfall.module</code></h3>
<p>Utilities for working with NixOS modules.</p>
<h4 id="libsnowfallmodulecreate-modules"><code dir="auto">lib.snowfall.module.create-modules</code></h4>
<p>Create flake output modules.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-modules</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./my-modules</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">overrides</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">another-module</span><span style="--0:#D6DEEB;--1:#403F53">; }; </span><span style="--0:#C5E478;--1:#3B61B0">alias</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">another-module</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">}</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-modules { src = ./my-modules; overrides = { inherit another-module; }; alias = { default = &#x22;another-module&#x22; }; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">another-module</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">my-module</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ another-module = ...; my-module = ...; default = ...; }"><div></div></button></div></figure></div>
<h3 id="libsnowfallattrs"><code dir="auto">lib.snowfall.attrs</code></h3>
<p>Utilities for working with attribute sets.</p>
<h4 id="libsnowfallattrsmap-concat-attrs-to-list"><code dir="auto">lib.snowfall.attrs.map-concat-attrs-to-list</code></h4>
<p>Map and flatten an attribute set into a list.</p>
<p>Type: <code dir="auto">(a -> b -> [c]) -> Attrs -> [c]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#C5E478;--1:#3B61B0">map</span><span style="--0:#7FDBCA;--1:#096E72">-</span><span style="--1:#403F53"><span style="--0:#D7DBE0">concat-attrs-to-list</span><span style="--0:#D6DEEB"> (</span></span><span style="--0:#7FDBCA;--1:#096E72">name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#7FDBCA;--1:#096E72">value</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--1:#403F53"><span style="--0:#D7DBE0">name</span><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">value</span></span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">) { </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">y</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">2</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="map-concat-attrs-to-list (name: value: [name value]) { x = 1; y = 2; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">y</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">2</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ &#x22;x&#x22; 1 &#x22;y&#x22; 2 ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallattrsmerge-deep"><code dir="auto">lib.snowfall.attrs.merge-deep</code></h4>
<p>Recursively merge a list of attribute sets.</p>
<p>Type: <code dir="auto">[Attrs] -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">merge-deep</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--0:#D6DEEB;--1:#403F53">; } { </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">2</span><span style="--0:#D6DEEB;--1:#403F53">; }</span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="merge-deep [{ x = 1; } { x = 2; }]"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">2</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ x = 2; }"><div></div></button></div></figure></div>
<h4 id="libsnowfallattrsmerge-shallow"><code dir="auto">lib.snowfall.attrs.merge-shallow</code></h4>
<p>Merge the root of a list of attribute sets.</p>
<p>Type: <code dir="auto">[Attrs] -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">merge-shallow</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--0:#D6DEEB;--1:#403F53">; } { </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">2</span><span style="--0:#D6DEEB;--1:#403F53">; }</span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="merge-shallow [{ x = 1; } { x = 2; }]"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">2</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ x = 2; }"><div></div></button></div></figure></div>
<h4 id="libsnowfallattrsmerge-shallow-packages"><code dir="auto">lib.snowfall.attrs.merge-shallow-packages</code></h4>
<p>Merge shallow for packages, but allow one deeper layer of attributes sets.</p>
<p>Type: <code dir="auto">[Attrs] -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">merge-shallow-packages</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">[</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> (</span><span style="--0:#D7DBE0">pkgs</span><span style="--0:#D6DEEB">) </span></span><span style="--0:#C5E478;--1:#3B61B0">vim</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">namespace</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">first</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  }</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> (</span><span style="--0:#D7DBE0">unstable</span><span style="--0:#D6DEEB">) </span></span><span style="--0:#C5E478;--1:#3B61B0">vim</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">namespace</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">second</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">2</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  }</span></div><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="merge-shallow-packages [  {    inherit (pkgs) vim;    namespace.first = 1;  }  {    inherit (unstable) vim;    namespace.second = 2;  }]"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">vim</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span><span style="--0:#919F9F;--1:#5F636F">/* the vim package from the last entry */</span><span style="--0:#D6DEEB;--1:#403F53">};</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">namespace</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">first</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">second</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">2</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  vim = {/* the vim package from the last entry */};  namespace = {    first = 1;    second = 2;  };}"><div></div></button></div></figure></div>
<h3 id="libsnowfallsystem"><code dir="auto">lib.snowfall.system</code></h3>
<h4 id="libsnowfallsystemis-darwin"><code dir="auto">lib.snowfall.system.is-darwin</code></h4>
<p>Check whether a named system is macOS.</p>
<p>Type: <code dir="auto">String -> Bool</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">is-darwin</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x86_64-linux</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="is-darwin &#x22;x86_64-linux&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#82AAFF;--1:#3B61B0">false</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="false"><div></div></button></div></figure></div>
<h4 id="libsnowfallsystemis-linux"><code dir="auto">lib.snowfall.system.is-linux</code></h4>
<p>Check whether a named system is Linux.</p>
<p>Type: <code dir="auto">String -> Bool</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">is-linux</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x86_64-linux</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="is-linux &#x22;x86_64-linux&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#82AAFF;--1:#3B61B0">false</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="false"><div></div></button></div></figure></div>
<h4 id="libsnowfallsystemis-virtual"><code dir="auto">lib.snowfall.system.is-virtual</code></h4>
<p>Check whether a named system is virtual.</p>
<p>Type: <code dir="auto">String -> Bool</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">is-linux</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x86_64-iso</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="is-linux &#x22;x86_64-iso&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#82AAFF;--1:#3B61B0">true</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="true"><div></div></button></div></figure></div>
<h4 id="libsnowfallsystemget-virtual-system-type"><code dir="auto">lib.snowfall.system.get-virtual-system-type</code></h4>
<p>Get the virtual system type of a system target.</p>
<p>Type: <code dir="auto">String -> String</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-virtual-system-type</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x86_64-iso</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-virtual-system-type &#x22;x86_64-iso&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">iso</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;iso&#x22;"><div></div></button></div></figure></div>
<h4 id="libsnowfallsystemget-inferred-system-name"><code dir="auto">lib.snowfall.system.get-inferred-system-name</code></h4>
<p>Get the name of a system based on its file path.</p>
<p>Type: <code dir="auto">Path -> String</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-inferred-system-name</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/systems/my-system/default.nix</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-inferred-system-name &#x22;/systems/my-system/default.nix&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-system</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;my-system&#x22;"><div></div></button></div></figure></div>
<h4 id="libsnowfallsystemget-target-systems-metadata"><code dir="auto">lib.snowfall.system.get-target-systems-metadata</code></h4>
<p>Get structured data about all systems for a given target.</p>
<p>Type: <code dir="auto">String -> [Attrs]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-target-systems-metadata</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x86_64-linux</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-target-systems-metadata &#x22;x86_64-linux&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C5E478;--1:#3B61B0">target</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x86_64-linux</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-machine</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">path</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/systems/x86_64-linux/my-machine</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; } </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ { target = &#x22;x86_64-linux&#x22;; name = &#x22;my-machine&#x22;; path = &#x22;/systems/x86_64-linux/my-machine&#x22;; } ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallsystemget-system-builder"><code dir="auto">lib.snowfall.system.get-system-builder</code></h4>
<p>Get the system builder for a given target.</p>
<p>Type: <code dir="auto">String -> Function</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-system-builder</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x86_64-iso</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-system-builder &#x22;x86_64-iso&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">args</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">&#x3C;system></span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="(args: <system>)"><div></div></button></div></figure></div>
<h4 id="libsnowfallsystemget-system-output"><code dir="auto">lib.snowfall.system.get-system-output</code></h4>
<p>Get the flake output attribute for a system target.</p>
<p>Type: <code dir="auto">String -> String</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-system-output</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">aarch64-darwin</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-system-output &#x22;aarch64-darwin&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">darwinConfigurations</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;darwinConfigurations&#x22;"><div></div></button></div></figure></div>
<h4 id="libsnowfallsystemget-resolved-system-target"><code dir="auto">lib.snowfall.system.get-resolved-system-target</code></h4>
<p>Get the resolved (non-virtual) system target.</p>
<p>Type: <code dir="auto">String -> String</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-resolved-system-target</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x86_64-iso</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-resolved-system-target &#x22;x86_64-iso&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x86_64-linux</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;x86_64-linux&#x22;"><div></div></button></div></figure></div>
<h4 id="libsnowfallsystemcreate-system"><code dir="auto">lib.snowfall.system.create-system</code></h4>
<p>Create a system.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-system</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">path</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./systems/my-system</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-system { path = ./systems/my-system; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#ECC48D;--1:#3B61B0">&#x3C;flake-utils-plus-system-configuration></span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<flake-utils-plus-system-configuration>"><div></div></button></div></figure></div>
<h4 id="libsnowfallsystemcreate-systems"><code dir="auto">lib.snowfall.system.create-systems</code></h4>
<p>Create all available systems.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-systems</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">hosts</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">my-host</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">specialArgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">true</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">modules</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">nixos</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">my-shared-module</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-systems { hosts.my-host.specialArgs.x = true; modules.nixos = [ my-shared-module ]; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">my-host</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">&#x3C;flake-utils-plus-system-configuration></span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ my-host = <flake-utils-plus-system-configuration>; }"><div></div></button></div></figure></div>
<h3 id="libsnowfallhome"><code dir="auto">lib.snowfall.home</code></h3>
<h4 id="libsnowfallhomesplit-user-and-host"><code dir="auto">lib.snowfall.home.split-user-and-host</code></h4>
<p>Get the user and host from a combined string.</p>
<p>Type: <code dir="auto">String -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">split-user-and-host</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">myuser@myhost</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="split-user-and-host &#x22;myuser@myhost&#x22;"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">user</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">myuser</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">host</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">myhost</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ user = &#x22;myuser&#x22;; host = &#x22;myhost&#x22;; }"><div></div></button></div></figure></div>
<h4 id="libsnowfallhomecreate-home"><code dir="auto">lib.snowfall.home.create-home</code></h4>
<p>Create a home.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-home</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">path</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./homes/my-home</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-home { path = ./homes/my-home; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#ECC48D;--1:#3B61B0">&#x3C;flake-utils-plus-home-configuration></span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<flake-utils-plus-home-configuration>"><div></div></button></div></figure></div>
<h4 id="libsnowfallhomecreate-homes"><code dir="auto">lib.snowfall.home.create-homes</code></h4>
<p>Create all available homes.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-homes</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-user@my-system</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">specialArgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">true</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">modules</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">my-shared-module</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-homes { users.&#x22;my-user@my-system&#x22;.specialArgs.x = true; modules = [ my-shared-module ]; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-user@my-system</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">&#x3C;flake-utils-plus-home-configuration></span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ &#x22;my-user@my-system&#x22; = <flake-utils-plus-home-configuration>; }"><div></div></button></div></figure></div>
<h4 id="libsnowfallhomeget-target-homes-metadata"><code dir="auto">lib.snowfall.home.get-target-homes-metadata</code></h4>
<p>Get structured data about all homes for a given target.</p>
<p>Type: <code dir="auto">String -> [Attrs]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">get-target-homes-metadata</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#ECC48D;--1:#3B61B0">./homes</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="get-target-homes-metadata ./homes"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C5E478;--1:#3B61B0">system</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">x86_64-linux</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-home</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">path</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/homes/x86_64-linux/my-home</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;} </span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[ { system = &#x22;x86_64-linux&#x22;; name = &#x22;my-home&#x22;; path = &#x22;/homes/x86_64-linux/my-home&#x22;;} ]"><div></div></button></div></figure></div>
<h4 id="libsnowfallhomecreate-home-system-modules"><code dir="auto">lib.snowfall.home.create-home-system-modules</code></h4>
<p>Create system modules for home-manager integration.</p>
<p>Type: <code dir="auto">Attrs -> [Module]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-home-system-modules</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-user@my-system</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">specialArgs</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">true</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">modules</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">my-shared-module</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-home-system-modules { users.&#x22;my-user@my-system&#x22;.specialArgs.x = true; modules = [ my-shared-module ]; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D7DBE0;--1:#403F53">Module</span><span style="--0:#D9F5DD;--1:#111111">]</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[Module]"><div></div></button></div></figure></div>
<h3 id="libsnowfallpackage"><code dir="auto">lib.snowfall.package</code></h3>
<p>Utilities for working with flake packages.</p>
<h4 id="libsnowfallpackagecreate-packages"><code dir="auto">lib.snowfall.package.create-packages</code></h4>
<p>Create flake output packages.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-packages</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">channels</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./my-packages</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">overrides</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">another-package</span><span style="--0:#D6DEEB;--1:#403F53">; }; </span><span style="--0:#C5E478;--1:#3B61B0">alias</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">another-package</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; }; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-packages { inherit channels; src = ./my-packages; overrides = { inherit another-package; }; alias = { default = &#x22;another-package&#x22;; }; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">another-package</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">my-package</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ another-package = ...; my-package = ...; default = ...; }"><div></div></button></div></figure></div>
<h3 id="libsnowfallshell"><code dir="auto">lib.snowfall.shell</code></h3>
<p>Utilities for working with flake dev shells.</p>
<h4 id="libsnowfallshellcreate-shell"><code dir="auto">lib.snowfall.shell.create-shell</code></h4>
<p>Create flake output packages.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-shells</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">channels</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./my-shells</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">overrides</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">another-shell</span><span style="--0:#D6DEEB;--1:#403F53">; }; </span><span style="--0:#C5E478;--1:#3B61B0">alias</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">another-shell</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; }; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-shells { inherit channels; src = ./my-shells; overrides = { inherit another-shell; }; alias = { default = &#x22;another-shell&#x22;; }; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">another-shell</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">my-shell</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ another-shell = ...; my-shell = ...; default = ...; }"><div></div></button></div></figure></div>
<h3 id="libsnowfalloverlay"><code dir="auto">lib.snowfall.overlay</code></h3>
<p>Utilities for working with channel overlays.</p>
<h4 id="libsnowfalloverlaycreate-overlays-builder"><code dir="auto">lib.snowfall.overlay.create-overlays-builder</code></h4>
<p>Create a flake-utils-plus overlays builder.</p>
<p>Type: <code dir="auto">Attrs -> Attrs -> [(a -> b -> c)]</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-overlays-builder</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./my-overlays</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">package-namespace</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-packages</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">extra-overlays</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">[]</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-overlays-builder { src = ./my-overlays; package-namespace = &#x22;my-packages&#x22;; extra-overlays = []; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">channels</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="(channels: [ ... ])"><div></div></button></div></figure></div>
<h4 id="libsnowfalloverlaycreate-overlays"><code dir="auto">lib.snowfall.overlay.create-overlays</code></h4>
<p>Create overlays to be used for flake outputs.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-overlays</span><span style="--0:#D6DEEB"> {</span></span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./my-overlays</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">packages-src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./my-packages</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">package-namespace</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">my-namespace</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">extra-overlays</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C5E478;--1:#3B61B0">my-example</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">final</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#7FDBCA;--1:#096E72">prev</span><span style="--0:#D6DEEB;--1:#403F53">: {};</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  };</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-overlays {  src = ./my-overlays;  packages-src = ./my-packages;  package-namespace = &#x22;my-namespace&#x22;;  extra-overlays = {    my-example = final: prev: {};  };}"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">final</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#7FDBCA;--1:#096E72">prev</span><span style="--0:#D6DEEB;--1:#403F53">: {};</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">my-example</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">final</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#7FDBCA;--1:#096E72">prev</span><span style="--0:#D6DEEB;--1:#403F53">: {};</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#C5E478;--1:#3B61B0">some-overlay</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">final</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#7FDBCA;--1:#096E72">prev</span><span style="--0:#D6DEEB;--1:#403F53">: {};</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  default = final: prev: {};  my-example = final: prev: {};  some-overlay = final: prev: {};}"><div></div></button></div></figure></div>
<h3 id="libsnowfalltemplate"><code dir="auto">lib.snowfall.template</code></h3>
<p>Utilities for working with flake templates.</p>
<h4 id="libsnowfalltemplatecreate-templates"><code dir="auto">lib.snowfall.template.create-templates</code></h4>
<p>Create flake templates.</p>
<p>Type: <code dir="auto">Attrs -> Attrs</code></p>
<p>Usage:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--1:#403F53"><span style="--0:#D7DBE0">create-templates</span><span style="--0:#D6DEEB"> { </span></span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./my-templates</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">overrides</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C792EA;--1:#8844AE">inherit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">another-template</span><span style="--0:#D6DEEB;--1:#403F53">; }; </span><span style="--0:#C5E478;--1:#3B61B0">alias</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">another-template</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">; }; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create-templates { src = ./my-templates; overrides = { inherit another-template; }; alias = { default = &#x22;another-template&#x22;; }; }"><div></div></button></div></figure></div>
<p>Result:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">another-template</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">my-template</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#C5E478;--1:#3B61B0">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">; }</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{ another-template = ...; my-template = ...; default = ...; }"><div></div></button></div></figure></div> </div> <footer class="astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links astro-u2l5gyhi" dir="ltr"> <a href="/guides/lib/generic/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span class="astro-u2l5gyhi"> Previous <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Generic</span> </span> </a> <a href="/guides/lib/migration/v2/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span class="astro-u2l5gyhi"> Next <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">v2</span> </span> </a> </div>  </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>